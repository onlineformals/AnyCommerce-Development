<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
<link href='https://fonts.googleapis.com/css?family=Maven+Pro:400' rel='stylesheet' type='text/css'>
<script type="text/javascript">
/**
 * Loads a CSS file from the supplied URL
 * @param {String} url    The URL of the CSS file, if its relative
                          it will be to the current page's url
 * @return {HTMLElement}  The <link> which was appended to the <head>
 */
 
 function loadcss(url) {
   var head = document.getElementsByTagName('head')[0],
   link = document.createElement('link');
   link.type = 'text/css';
   link.rel = 'stylesheet';
   link.href = url;
   head.appendChild(link);
   return link;
 }
 
 loadcss('http://app.onlineformals.com/redirectmodal.css');
 </script>
  
 <!--BEGIN MODAL FUNCTION SCRIPT-->
<script type="text/javascript">

//FUNCTIONS
function handleRedirect() {
	var windowUrl = location.href;
	if(windowUrl.indexOf("product")>= 0){
		var urlString = location.href;
		//console.log("location.href = " + location.href);
		var urlString2 = urlString.split("/product/");
		//console.log("urlString2 = " + urlString2);
		var urlString3 = urlString2[1];
		//console.log("urlString3 = " + urlString3);
		var urlString4 = urlString3.split("/");
		//console.log("urlString4 = " + urlString4);
		var prodSku = urlString4[0];
		//console.log("prodSku = " + prodSku);
		window.location = "http://app.onlineformals.com/#!product/"+prodSku+"/";
 	}
	else if(windowUrl.indexOf("category")>= 0){
		var urlString = location.href;
		//console.log("location.href = " + location.href);
		var urlString2 = urlString.split("/category/");
		//console.log("urlString2 = " + urlString2);
		var catTitle = urlString2[1];
		//console.log("catTitle = " + catTitle);
		switch(catTitle){
		case "shop_by_category.in_stock___quick_ship/" :
			window.location = "http://app.onlineformals.com/#!category/in_stock/";
		break;
		case "shop_by_designer.bg_haute/" :
			window.location = "http://app.onlineformals.com/#!category/designers.bg_haute/";
		break;
		case "shop_by_designer.cassandra_stone/" :
			window.location = "http://app.onlineformals.com/category/designers.cassandra_stone/";
		break;
		case "shop_by_designer.faviana/" :
			window.location = "http://app.onlineformals.com/#!category/designers.faviana/";
		break;
		case "shop_by_designer.gigi_by_la_femme/" :
			window.location = "http://app.onlineformals.com/category/designers.gigi/";
		break;
		case "shop_by_designer.jasz_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.jasz_couture/";
		break;
		case "shop_by_designer.johnathan_kayne/" :
			window.location = "http://app.onlineformals.com/#!category/designers.johnathan_kayne/";
		break;
		case "shop_by_designer.la_femme/" :
			window.location = "http://app.onlineformals.com/#!category/designers.la_femme/";
		break;
		case "shop_by_designer.le_gala_by_tony_bowls/" :
			window.location = "http://app.onlineformals.com/category/designers.le_gala/";
		break;
		case "shop_by_designer.lm_collection/" :
			window.location = "http://app.onlineformals.com/#!category/designers.lm_collection/";
		break;
		case "shop_by_designer.mac_duggal/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mignon/" :
			window.location = "http://app.onlineformals.com/category/designers.mignon/";
		break;
		case "shop_by_designer.mnm_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mnm_couture/";
		break;
		case "shop_by_designer.night_moves/" :
			window.location = "http://app.onlineformals.com/#!category/designers.night_moves/";
		break;
		case "shop_by_designer.paris_by_tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/designers.paris/";
		break;
		case "shop_by_designer.scala/" :
			window.location = "http://app.onlineformals.com/#!category/designers.scala/";
		break;
		case "shop_by_designer.shail_k/" :
			window.location = "http://app.onlineformals.com/#!category/designers.shail_k/";
		break;
		case "shop_by_designer.sherri_hill/" :
			window.location = "http://app.onlineformals.com/#!category/designers.sherri_hill/";
		break;
		case "shop_by_designer.tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/evening.designers.tony_bowls/";
		break;
		case "shop_accessories.accessories/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.under_the_dress/";
		break;
		case "shop_accessories.jewelry/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.jewelry/";
		break;
		case "shop_accessories.shoes_by_coloriffics/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.shoes.coloriffics/";
		break;
		case "shop_accessories.shoes_by_touch_ups/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.shoes.touch_ups/";
		break;
		case "5/" :
			window.location = "http://app.onlineformals.com/#!category/prom/";
		break;
		case "4/" :
			window.location = "http://app.onlineformals.com/#!category/pageant/";
		break;
		case "shop_by_category.celebrity_gowns/" :
			window.location = "http://app.onlineformals.com/#!category/evening.celebrity_inspired/";
		break;
		case "shop_by_category.cocktail___party_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "shop_by_category.evening_couture/" :
			window.location = "http://app.onlineformals.com/#!category/evening/";
		break;
		case "shop_by_category.little_girl_s_pageant_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/pageant/";
		break;
		case "shop_by_category.plus_size_gowns/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size/";
		break;
		case "shop_by_category.homecoming_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "1/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "shop_by_designer.fabulouss___plus_size/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size.designers.fabulouss/";
		break;
		case "shop_by_designer.faviana_glamour/" :
			window.location = "http://app.onlineformals.com/#!category/designers.faviana/";
		break;
		case "shop_by_designer.la_femme_evening/" :
			window.location = "http://app.onlineformals.com/#!category/evening.designers.la_femme/";
		break;
		case "shop_by_designer.mac_duggal_ballgowns/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mac_duggal_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mac_duggal_flash/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.night_moves_plus_size/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size.designers.night_moves/";
		break;
		default:
			window.location = "http://app.onlineformals.com/#!category/"+catTitle;
		break;
		}
	}
	else{
		window.location = "http://app.onlineformals.com";
	}
}
function bugLater(){
 sessionStorage.redirectToAppSessionNoCheck = true;
 $('.redirectToSiteApp').dialog('close');
 console.log("sessionStorage = " + sessionStorage.redirectToAppSessionNoCheck);
 console.log("localStorage = " + localStorage.redirectToAppVar);
}
function autoRedirect(){
 localStorage.redirectToAppVar = true;
 $('.redirectToSiteApp').dialog('close');
 var windowUrl = location.href;
	if(windowUrl.indexOf("product")>= 0){
		var urlString = location.href;
		//console.log("location.href = " + location.href);
		var urlString2 = urlString.split("/product/");
		//console.log("urlString2 = " + urlString2);
		var urlString3 = urlString2[1];
		//console.log("urlString3 = " + urlString3);
		var urlString4 = urlString3.split("/");
		//console.log("urlString4 = " + urlString4);
		var prodSku = urlString4[0];
		//console.log("prodSku = " + prodSku);
		window.location = "http://app.onlineformals.com/#!product/"+prodSku+"/";
 	}
	else if(windowUrl.indexOf("category")>= 0){
		var urlString = location.href;
		//console.log("location.href = " + location.href);
		var urlString2 = urlString.split("/category/");
		//console.log("urlString2 = " + urlString2);
		var catTitle = urlString2[1];
		//console.log("catTitle = " + catTitle);
		switch(catTitle){
			case "shop_by_category.in_stock___quick_ship/" :
			window.location = "http://app.onlineformals.com/#!category/in_stock/";
		break;
		case "shop_by_designer.bg_haute/" :
			window.location = "http://app.onlineformals.com/#!category/designers.bg_haute/";
		break;
		case "shop_by_designer.cassandra_stone/" :
			window.location = "http://app.onlineformals.com/#!category/designers.cassandra_stone/";
		break;
		case "shop_by_designer.faviana/" :
			window.location = "http://app.onlineformals.com/#!category/designers.faviana/";
		break;
		case "shop_by_designer.gigi_by_la_femme/" :
			window.location = "http://app.onlineformals.com/#!category/designers.gigi/";
		break;
		case "shop_by_designer.jasz_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.jasz_couture/";
		break;
		case "shop_by_designer.johnathan_kayne/" :
			window.location = "http://app.onlineformals.com/#!category/designers.johnathan_kayne/";
		break;
		case "shop_by_designer.la_femme/" :
			window.location = "http://app.onlineformals.com/#!category/designers.la_femme/";
		break;
		case "shop_by_designer.le_gala_by_tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/designers.le_gala/";
		break;
		case "shop_by_designer.lm_collection/" :
			window.location = "http://app.onlineformals.com/#!category/designers.lm_collection/";
		break;
		case "shop_by_designer.mac_duggal/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mignon/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mignon/";
		break;
		case "shop_by_designer.mnm_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mnm_couture/";
		break;
		case "shop_by_designer.night_moves/" :
			window.location = "http://app.onlineformals.com/#!category/designers.night_moves/";
		break;
		case "shop_by_designer.paris_by_tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/designers.paris/";
		break;
		case "shop_by_designer.scala/" :
			window.location = "http://app.onlineformals.com/#!category/designers.scala/";
		break;
		case "shop_by_designer.shail_k/" :
			window.location = "http://app.onlineformals.com/#!category/designers.shail_k/";
		break;
		case "shop_by_designer.sherri_hill/" :
			window.location = "http://app.onlineformals.com/#!category/designers.sherri_hill/";
		break;
		case "shop_by_designer.tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/evening.designers.tony_bowls/";
		break;
		case "shop_accessories.accessories/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.under_the_dress/";
		break;
		case "shop_accessories.jewelry/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.jewelry/";
		break;
		case "shop_accessories.shoes_by_coloriffics/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.shoes.coloriffics/";
		break;
		case "shop_accessories.shoes_by_touch_ups/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.shoes.touch_ups/";
		break;
		case "5/" :
			window.location = "http://app.onlineformals.com/#!category/prom/";
		break;
		case "4/" :
			window.location = "http://app.onlineformals.com/#!category/pageant/";
		break;
		case "shop_by_category.celebrity_gowns/" :
			window.location = "http://app.onlineformals.com/#!category/evening.celebrity_inspired/";
		break;
		case "shop_by_category.cocktail___party_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "shop_by_category.evening_couture/" :
			window.location = "http://app.onlineformals.com/#!category/evening/";
		break;
		case "shop_by_category.little_girl_s_pageant_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/pageant/";
		break;
		case "shop_by_category.plus_size_gowns/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size/";
		break;
		case "shop_by_category.homecoming_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "1/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "shop_by_designer.fabulouss___plus_size/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size.designers.fabulouss/";
		break;
		case "shop_by_designer.faviana_glamour/" :
			window.location = "http://app.onlineformals.com/#!category/designers.faviana/";
		break;
		case "shop_by_designer.la_femme_evening/" :
			window.location = "http://app.onlineformals.com/#!category/evening.designers.la_femme/";
		break;
		case "shop_by_designer.mac_duggal_ballgowns/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mac_duggal_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mac_duggal_flash/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.night_moves_plus_size/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size.designers.night_moves/";
		break;
		default:
			window.location = "http://app.onlineformals.com/#!category/"+catTitle;
		break;
		}

	}
	else{
		window.location = "http://app.onlineformals.com";
	}
}
function resetRedirectPreferences(){
 localStorage.redirectToAppVar = false;
 $(".stopFutureRedirectMessage").css("display", "block");
 console.log("sessionStorage have now been set to: " + sessionStorage.redirectToAppSessionNoCheck);
 console.log("localStorage have now been set to: " + localStorage.redirectToAppVar);
}


//SCRIPT BEGINS WHEN THE PAGE IS FULLY LOADED
$(document).ready(function() {
 //RESET FOR THE SESSION VARIABLE
 //sessionStorage.redirectToAppSessionNoCheck = false;
 
 
 if(typeof(Storage)!=="undefined"){
  if(localStorage.redirectToAppVar){
  }
  else{
   localStorage.redirectToAppVar = false;
  }
  if(sessionStorage.redirectToAppSessionNoCheck){
  }
  else{
   sessionStorage.redirectToAppSessionNoCheck = false;
  }
  console.log("window.location = " + window.location);
  var urlLocation = window.location;
  console.log("urlLocation = " + urlLocation);
  
  $('<div class="redirectToSiteApp"> '+
  '<h3>For an improved shopping experience, use our new site!</h3>' +
  '<button onclick="handleRedirect(); return false;">New Site</button>' +
  '<button class="bugLaterButton" onclick="bugLater()">Old Site</button>' +
  '<div>' +
   '<img onclick="handleRedirect(); return false;" src="http://app.onlineformals.com/Images/Homepage/headerlogo.png" />' +
  '</div>' +
  '<button class="autoRedirectButton" onclick="autoRedirect()">Always redirect to the new site whenever visiting www.onlineformals.com</button>' +
  //'<button onclick="resetRedirectPreferences()">Reset Preferences</button>' +
  '</div>').appendTo('head');
  
  if(typeof(Storage)!=="undefined"){
   console.log("storage exists check passed");
   if(localStorage.redirectToAppVar == "true"){
    $('<div style="background-color:white; float:left;" class="autoRedirectToSiteApp"> '+
    '<h3>Redirecting to app site. Please wait a few Seconds....</h3>' +
    '<div>' +
    '<img src="http://app.onlineformals.com/Images/loadingscreen/loading_animation_online_formals.gif" />' +
	'<img class="redirectLogoBody" src="http://app.onlineformals.com/V_store_app_store_redirect_modal/logo.png" />' +
    '</div>' +
    '<p class="stopFutureRedirectMessage">Done!</p>' +
    '<button onclick="resetRedirectPreferences()">Prompt me next time instead of auto-redirecting</button>' +
    '</div>').appendTo('head');
    $('.autoRedirectToSiteApp').dialog({'modal':'true', 'width':400, height:270});
    function foo1(){
     var windowUrl = location.href;
	if(windowUrl.indexOf("product")>= 0){
		var urlString = location.href;
		//console.log("location.href = " + location.href);
		var urlString2 = urlString.split("/product/");
		//console.log("urlString2 = " + urlString2);
		var urlString3 = urlString2[1];
		//console.log("urlString3 = " + urlString3);
		var urlString4 = urlString3.split("/");
		//console.log("urlString4 = " + urlString4);
		var prodSku = urlString4[0];
		//console.log("prodSku = " + prodSku);
		window.location = "http://app.onlineformals.com/#!product/"+prodSku+"/";
 	}
	else if(windowUrl.indexOf("category")>= 0){
		var urlString = location.href;
		//console.log("location.href = " + location.href);
		var urlString2 = urlString.split("/category/");
		//console.log("urlString2 = " + urlString2);
		var catTitle = urlString2[1];
		//console.log("catTitle = " + catTitle);
				switch(catTitle){
			case "shop_by_category.in_stock___quick_ship/" :
			window.location = "http://app.onlineformals.com/#!category/in_stock/";
		break;
		case "shop_by_designer.bg_haute/" :
			window.location = "http://app.onlineformals.com/#!category/designers.bg_haute/";
		break;
		case "shop_by_designer.cassandra_stone/" :
			window.location = "http://app.onlineformals.com/#!category/designers.cassandra_stone/";
		break;
		case "shop_by_designer.faviana/" :
			window.location = "http://app.onlineformals.com/#!category/designers.faviana/";
		break;
		case "shop_by_designer.gigi_by_la_femme/" :
			window.location = "http://app.onlineformals.com/#!category/designers.gigi/";
		break;
		case "shop_by_designer.jasz_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.jasz_couture/";
		break;
		case "shop_by_designer.johnathan_kayne/" :
			window.location = "http://app.onlineformals.com/#!category/designers.johnathan_kayne/";
		break;
		case "shop_by_designer.la_femme/" :
			window.location = "http://app.onlineformals.com/#!category/designers.la_femme/";
		break;
		case "shop_by_designer.le_gala_by_tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/designers.le_gala/";
		break;
		case "shop_by_designer.lm_collection/" :
			window.location = "http://app.onlineformals.com/#!category/designers.lm_collection/";
		break;
		case "shop_by_designer.mac_duggal/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mignon/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mignon/";
		break;
		case "shop_by_designer.mnm_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mnm_couture/";
		break;
		case "shop_by_designer.night_moves/" :
			window.location = "http://app.onlineformals.com/#!category/designers.night_moves/";
		break;
		case "shop_by_designer.paris_by_tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/designers.paris/";
		break;
		case "shop_by_designer.scala/" :
			window.location = "http://app.onlineformals.com/#!category/designers.scala/";
		break;
		case "shop_by_designer.shail_k/" :
			window.location = "http://app.onlineformals.com/#!category/designers.shail_k/";
		break;
		case "shop_by_designer.sherri_hill/" :
			window.location = "http://app.onlineformals.com/#!category/designers.sherri_hill/";
		break;
		case "shop_by_designer.tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/evening.designers.tony_bowls/";
		break;
		case "shop_accessories.accessories/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.under_the_dress/";
		break;
		case "shop_accessories.jewelry/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.jewelry/";
		break;
		case "shop_accessories.shoes_by_coloriffics/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.shoes.coloriffics/";
		break;
		case "shop_accessories.shoes_by_touch_ups/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.shoes.touch_ups/";
		break;
		case "5/" :
			window.location = "http://app.onlineformals.com/#!category/prom/";
		break;
		case "4/" :
			window.location = "http://app.onlineformals.com/#!category/pageant/";
		break;
		case "shop_by_category.celebrity_gowns/" :
			window.location = "http://app.onlineformals.com/#!category/evening.celebrity_inspired/";
		break;
		case "shop_by_category.cocktail___party_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "shop_by_category.evening_couture/" :
			window.location = "http://app.onlineformals.com/#!category/evening/";
		break;
		case "shop_by_category.little_girl_s_pageant_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/pageant/";
		break;
		case "shop_by_category.plus_size_gowns/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size/";
		break;
		case "shop_by_category.homecoming_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "1/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "shop_by_designer.fabulouss___plus_size/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size.designers.fabulouss/";
		break;
		case "shop_by_designer.faviana_glamour/" :
			window.location = "http://app.onlineformals.com/#!category/designers.faviana/";
		break;
		case "shop_by_designer.la_femme_evening/" :
			window.location = "http://app.onlineformals.com/#!category/evening.designers.la_femme/";
		break;
		case "shop_by_designer.mac_duggal_ballgowns/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mac_duggal_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mac_duggal_flash/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.night_moves_plus_size/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size.designers.night_moves/";
		break;
		default:
			window.location = "http://app.onlineformals.com/#!category/"+catTitle;
		break;
		}

	}
	else{
		window.location = "http://app.onlineformals.com";
	}
    }
    var autoRedirectTimer;
    redirectTimer = foo1;
    autoRedirectTimer = setTimeout(redirectTimer, 5000);
   }
   else if (sessionStorage.redirectToAppSessionNoCheck == "true"){
    console.log("One of the two storage values was true, redirect modal is not displaying.");
   }
    else{
     $('.redirectToSiteApp').dialog({'modal':'true', 'width':450, height:350});
     console.log("Neither storage value was true, displaying redirect modal");
     console.log("sessionStorage = " + sessionStorage.redirectToAppSessionNoCheck);
     console.log("localStorage = " + localStorage.redirectToAppVar);
    }
   } 
 }
 else{
  console.log("Storage is not supported. Redirecting to app");
  var windowUrl = location.href;
	if(windowUrl.indexOf("product")>= 0){
		var urlString = location.href;
		//console.log("location.href = " + location.href);
		var urlString2 = urlString.split("/product/");
		//console.log("urlString2 = " + urlString2);
		var urlString3 = urlString2[1];
		//console.log("urlString3 = " + urlString3);
		var urlString4 = urlString3.split("/");
		//console.log("urlString4 = " + urlString4);
		var prodSku = urlString4[0];
		//console.log("prodSku = " + prodSku);
		window.location = "http://app.onlineformals.com/#!product/"+prodSku+"/";
 	}
	else if(windowUrl.indexOf("category")>= 0){
		var urlString = location.href;
		//console.log("location.href = " + location.href);
		var urlString2 = urlString.split("/category/");
		//console.log("urlString2 = " + urlString2);
		var catTitle = urlString2[1];
		//console.log("catTitle = " + catTitle);
				switch(catTitle){
			case "shop_by_category.in_stock___quick_ship/" :
			window.location = "http://app.onlineformals.com/#!category/in_stock/";
		break;
		case "shop_by_designer.bg_haute/" :
			window.location = "http://app.onlineformals.com/#!category/designers.bg_haute/";
		break;
		case "shop_by_designer.cassandra_stone/" :
			window.location = "http://app.onlineformals.com/#!category/designers.cassandra_stone/";
		break;
		case "shop_by_designer.faviana/" :
			window.location = "http://app.onlineformals.com/#!category/designers.faviana/";
		break;
		case "shop_by_designer.gigi_by_la_femme/" :
			window.location = "http://app.onlineformals.com/#!category/designers.gigi/";
		break;
		case "shop_by_designer.jasz_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.jasz_couture/";
		break;
		case "shop_by_designer.johnathan_kayne/" :
			window.location = "http://app.onlineformals.com/#!category/designers.johnathan_kayne/";
		break;
		case "shop_by_designer.la_femme/" :
			window.location = "http://app.onlineformals.com/#!category/designers.la_femme/";
		break;
		case "shop_by_designer.le_gala_by_tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/designers.le_gala/";
		break;
		case "shop_by_designer.lm_collection/" :
			window.location = "http://app.onlineformals.com/#!category/designers.lm_collection/";
		break;
		case "shop_by_designer.mac_duggal/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mignon/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mignon/";
		break;
		case "shop_by_designer.mnm_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mnm_couture/";
		break;
		case "shop_by_designer.night_moves/" :
			window.location = "http://app.onlineformals.com/#!category/designers.night_moves/";
		break;
		case "shop_by_designer.paris_by_tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/designers.paris/";
		break;
		case "shop_by_designer.scala/" :
			window.location = "http://app.onlineformals.com/#!category/designers.scala/";
		break;
		case "shop_by_designer.shail_k/" :
			window.location = "http://app.onlineformals.com/#!category/designers.shail_k/";
		break;
		case "shop_by_designer.sherri_hill/" :
			window.location = "http://app.onlineformals.com/#!category/designers.sherri_hill/";
		break;
		case "shop_by_designer.tony_bowls/" :
			window.location = "http://app.onlineformals.com/#!category/evening.designers.tony_bowls/";
		break;
		case "shop_accessories.accessories/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.under_the_dress/";
		break;
		case "shop_accessories.jewelry/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.jewelry/";
		break;
		case "shop_accessories.shoes_by_coloriffics/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.shoes.coloriffics/";
		break;
		case "shop_accessories.shoes_by_touch_ups/" :
			window.location = "http://app.onlineformals.com/#!category/accessories.shoes.touch_ups/";
		break;
		case "5/" :
			window.location = "http://app.onlineformals.com/#!category/prom/";
		break;
		case "4/" :
			window.location = "http://app.onlineformals.com/#!category/pageant/";
		break;
		case "shop_by_category.celebrity_gowns/" :
			window.location = "http://app.onlineformals.com/#!category/evening.celebrity_inspired/";
		break;
		case "shop_by_category.cocktail___party_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "shop_by_category.evening_couture/" :
			window.location = "http://app.onlineformals.com/#!category/evening/";
		break;
		case "shop_by_category.little_girl_s_pageant_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/pageant/";
		break;
		case "shop_by_category.plus_size_gowns/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size/";
		break;
		case "shop_by_category.homecoming_dresses/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "1/" :
			window.location = "http://app.onlineformals.com/#!category/cocktail/";
		break;
		case "shop_by_designer.fabulouss___plus_size/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size.designers.fabulouss/";
		break;
		case "shop_by_designer.faviana_glamour/" :
			window.location = "http://app.onlineformals.com/#!category/designers.faviana/";
		break;
		case "shop_by_designer.la_femme_evening/" :
			window.location = "http://app.onlineformals.com/#!category/evening.designers.la_femme/";
		break;
		case "shop_by_designer.mac_duggal_ballgowns/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mac_duggal_couture/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.mac_duggal_flash/" :
			window.location = "http://app.onlineformals.com/#!category/designers.mac_duggal/";
		break;
		case "shop_by_designer.night_moves_plus_size/" :
			window.location = "http://app.onlineformals.com/#!category/plus_size.designers.night_moves/";
		break;
		default:
			window.location = "http://app.onlineformals.com/#!category/"+catTitle;
		break;
		}

	}
	else{
		window.location = "http://app.onlineformals.com";
	}
 }
});
</script>